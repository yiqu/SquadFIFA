function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{dbnE:function(e,t,a){"use strict";a.r(t);var r=a("ofXK"),n=a("3Pt+"),o=a("qAUw"),s=a("9Xeq"),i=a("tyNb"),c=a("fXoL"),b=a("kmKP");function l(e,t){if(1&e&&(c.Vb(0,"div",1),c.Vb(1,"div",2),c.Vb(2,"h2"),c.Dc(3),c.ic(4,"titlecase"),c.Ub(),c.Ub(),c.Ub()),2&e){var a=t.ngIf;c.Cb(3),c.Fc("Welcome, ",a.user.firstName?c.jc(4,1,a.user.firstName):a.user.id,"")}}var u,d,f=((u=function(){function e(t,a){_classCallCheck(this,e),this.ls=t,this.fb=a}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||u)(c.Pb(b.a),c.Pb(n.d))},u.\u0275cmp=c.Jb({type:u,selectors:[["app-self"]],decls:12,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"material-icons","xlg-icon"],["class","row",4,"ngIf"],[1,"row","text-muted"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"i",3),c.Dc(4,"account_circle"),c.Ub(),c.Ub(),c.Ub(),c.Cc(5,l,5,3,"div",4),c.ic(6,"async"),c.Vb(7,"div",5),c.Vb(8,"div",2),c.Vb(9,"p"),c.Dc(10,"Manage your info, privacy, and security for your FIFA account."),c.Ub(),c.Ub(),c.Ub(),c.Qb(11,"router-outlet"),c.Ub()),2&e&&(c.Cb(5),c.nc("ngIf",c.jc(6,1,t.ls.currentUser$)))},directives:[r.k,i.f],pipes:[r.b,r.s],styles:[".profile-card[_ngcontent-%COMP%]{min-height:200px}.profile-card-body[_ngcontent-%COMP%]{min-height:120px}.btn-light[_ngcontent-%COMP%]{color:#4b76d3!important}"]}),u),m=a("Bumn"),p=function(){return["edit"]},g=function(){return["seasons"]},h=((d=function(){function e(t){_classCallCheck(this,e),this.ls=t}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||d)(c.Pb(b.a))},d.\u0275cmp=c.Jb({type:d,selectors:[["app-self-core"]],decls:21,vars:5,consts:[[1,"row","mt-3"],[1,"col-md-2"],[1,"col-md-4"],[1,"card","profile-card"],[1,"card-body"],[1,"card-title"],[1,"card-text","profile-card-body","text-muted"],[1,"btn","btn-light","btn-block",3,"routerLink","preserveFragment"],[1,"btn","btn-light","btn-block",3,"routerLink"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Qb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"h5",5),c.Dc(6,"Privacy & personalization"),c.Ub(),c.Vb(7,"p",6),c.Dc(8,"Update your personal account information."),c.Ub(),c.Vb(9,"a",7),c.Dc(10,"Review my account"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(11,"div",2),c.Vb(12,"div",3),c.Vb(13,"div",4),c.Vb(14,"h5",5),c.Dc(15,"Season Information"),c.Ub(),c.Vb(16,"p",6),c.Dc(17," Review your past seasons, win-loss records, most used players, favorite teams and more. "),c.Ub(),c.Vb(18,"a",8),c.Dc(19,"Review my seasons"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(20,"div",1),c.Ub()),2&e&&(c.Cb(9),c.nc("routerLink",c.oc(3,p))("preserveFragment",!1),c.Cb(9),c.nc("routerLink",c.oc(4,g)))},directives:[i.d],styles:["",".profile-card[_ngcontent-%COMP%]{min-height:200px}.profile-card-body[_ngcontent-%COMP%]{min-height:120px}.btn-light[_ngcontent-%COMP%]{color:#4b76d3!important}"]}),d),U=a("iamr"),v=a("1G5W"),C=a("lJxs"),V=a("OlKu"),y=a("bRca"),P=a("/hZ/"),D=a("5eHb"),F=a("IRfi"),N=a("A2Vd"),M=a("TY1r"),w=a("SSqQ"),k=a("Xlwt");function O(e,t){1&e&&(c.Vb(0,"span"),c.Dc(1,"*"),c.Ub())}function _(e,t){1&e&&(c.Vb(0,"mat-icon",23),c.Dc(1,"done"),c.Ub())}function I(e,t){1&e&&(c.Vb(0,"mat-icon",26),c.Dc(1,"error"),c.Ub())}function x(e,t){1&e&&(c.Vb(0,"mat-hint"),c.Dc(1,"Alphabetical only"),c.Ub())}function S(e,t){1&e&&(c.Vb(0,"mat-error"),c.Dc(1,"No spaces are allowed"),c.Ub())}function G(e,t){1&e&&(c.Vb(0,"mat-error"),c.Dc(1," No non-alphabetical characters are allowed "),c.Ub())}function j(e,t){1&e&&(c.Vb(0,"mat-error"),c.Dc(1," Name cannot be empty "),c.Ub())}function q(e,t){1&e&&(c.Vb(0,"mat-icon",23),c.Dc(1,"done"),c.Ub())}function Q(e,t){1&e&&(c.Vb(0,"mat-icon",26),c.Dc(1,"error"),c.Ub())}function T(e,t){1&e&&(c.Vb(0,"mat-hint"),c.Dc(1,"Alphabetical only"),c.Ub())}function A(e,t){1&e&&(c.Vb(0,"mat-error"),c.Dc(1,"No spaces are allowed"),c.Ub())}function E(e,t){1&e&&(c.Vb(0,"mat-error"),c.Dc(1," No non-alphabetical characters are allowed "),c.Ub())}function L(e,t){1&e&&(c.Vb(0,"mat-error"),c.Dc(1," Name cannot be empty "),c.Ub())}var K,R,J,$,H,X=function(e){return{"success-btn":e}},W=((K=function(){function e(t,a,r){_classCallCheck(this,e),this.ls=t,this.fb=a,this.ts=r,this.initErrorMatcher=new P.a,this.updating=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.ls.currentUser$.pipe(Object(v.a)(this.ls.userSettingProfileDone$)).subscribe((function(t){e.createUserFg(t),e.ts.toastrConfig.timeOut=750,e.ts.info("Profile loaded.","User"),e.ts.toastrConfig.timeOut=5e3}),(function(e){}),(function(){console.log("User listener in profile edit DONE")}))}},{key:"createUserFg",value:function(e){this.profileFg=this.fb.group({admin:V.a(e.admin,!0),hashKey:V.a(e.hashKey,!0,[n.s.required]),isUser:V.a(e.isUser,!0),user:this.fb.group({id:V.a(e.user.id,!0,[n.s.required]),firstName:V.a(e.user.firstName,!1,[n.s.required,y.a]),lastName:V.a(e.user.lastName,!1,[n.s.required,y.a]),avatar:V.a(e.user.avatar,!1)}),data:this.fb.group({matchesPlayed:V.a(e.data.matchesPlayed,!0),seasonsPlayed:V.a(e.data.seasonsPlayed,!0),wins:V.a(e.data.wins,!0),draws:V.a(e.data.draws,!0),losses:V.a(e.data.losses,!0),mostUsedTeam:V.a(e.data.mostUsedTeam,!0),favoritePlayer:V.a(e.data.favoritePlayer,!0),totalGoalsScored:V.a(e.data.totalGoalsScored,!0),totalGoalsConceded:V.a(e.data.totalGoalsConceded,!0)})})}},{key:"subscribeToFg",value:function(){}},{key:"updateProfile",value:function(){var e=this;if(this.profileFg.invalid)this.ts.error("Please fix the errors before saving.");else{this.updating=!0;var t=this.profileFg.getRawValue(),a=new U.a(t.user,t.admin,t.isUser,t.data,t.hashKey);this.ls.updateUserProfile(a).pipe(Object(C.a)((function(e){return e.body}))).subscribe((function(t){e.ls.setUserData(t)}),(function(t){e.updating=!1}),(function(){e.updating=!1,e.profileFg.markAsPristine(),e.ts.success("Profile updated.","Success")}))}}},{key:"ngOnDestroy",value:function(){this.ls.userSettingProfileDone$.next(!0)}},{key:"userMetaFg",get:function(){return this.profileFg.get("user")}}]),e}()).\u0275fac=function(e){return new(e||K)(c.Pb(b.a),c.Pb(n.d),c.Pb(D.b))},K.\u0275cmp=c.Jb({type:K,selectors:[["app-self-edit"]],decls:76,vars:21,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-md-8","offset-md-2"],["formGroupName","user",1,"row","mb-4"],[1,"col-md-4","offset-md-4","text-center"],["appearance","outline"],["matInput","","placeholder","Login ID","formControlName","id"],["matSuffix",""],[1,"col-md-4","offset-md-2","text-center","center-grid"],["formControlName","admin",1,""],[1,"col-md-4"],["appearance","standard"],["matInput","","placeholder","Hash key","formControlName","hashKey"],[4,"ngIf"],["formGroupName","user"],[1,"col-md-4","offset-md-2"],["matInput","","placeholder","First name","formControlName","firstName",3,"errorStateMatcher"],["matSuffix","","class","text-success",4,"ngIf"],["matSuffix","","class","text-danger",4,"ngIf"],["matInput","","placeholder","Last name","formControlName","lastName",3,"errorStateMatcher"],[1,"row","mb-5"],["matInput","","placeholder","Avatar url","formControlName","avatar"],["matPrefix","",1,"mr-3"],["matSuffix","",1,"text-success"],[1,"row"],["mat-flat-button","",3,"ngClass","disabled","click"],["matSuffix","",1,"text-danger"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"section",1),c.Vb(2,"div",2),c.Vb(3,"h4"),c.Dc(4,"Credentials"),c.Ub(),c.Qb(5,"hr"),c.Ub(),c.Ub(),c.Vb(6,"section",3),c.Vb(7,"div",4),c.Vb(8,"mat-form-field",5),c.Vb(9,"mat-label"),c.Dc(10,"Login ID"),c.Ub(),c.Qb(11,"input",6),c.Vb(12,"mat-icon",7),c.Dc(13,"done"),c.Ub(),c.Vb(14,"mat-hint"),c.Dc(15,"Admin permission is required to update your login ID, please contact an admin."),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(16,"section",1),c.Vb(17,"section",8),c.Vb(18,"mat-checkbox",9),c.Dc(19,"Admin"),c.Ub(),c.Ub(),c.Vb(20,"div",10),c.Vb(21,"mat-form-field",11),c.Vb(22,"mat-label"),c.Dc(23,"Hashkey"),c.Ub(),c.Qb(24,"input",12),c.Vb(25,"mat-icon",7),c.Dc(26,"done"),c.Ub(),c.Vb(27,"mat-hint"),c.Dc(28,"Do not change"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(29,"section",1),c.Vb(30,"div",2),c.Vb(31,"h4"),c.Dc(32,"Edit Profile "),c.Cc(33,O,2,0,"span",13),c.Ub(),c.Qb(34,"hr"),c.Ub(),c.Ub(),c.Vb(35,"div",14),c.Vb(36,"section",1),c.Vb(37,"div",15),c.Vb(38,"mat-form-field",11),c.Vb(39,"mat-label"),c.Dc(40,"First Name"),c.Ub(),c.Qb(41,"input",16),c.Cc(42,_,2,0,"mat-icon",17),c.Cc(43,I,2,0,"mat-icon",18),c.Cc(44,x,2,0,"mat-hint",13),c.Cc(45,S,2,0,"mat-error",13),c.Cc(46,G,2,0,"mat-error",13),c.Cc(47,j,2,0,"mat-error",13),c.Ub(),c.Ub(),c.Ub(),c.Vb(48,"section",1),c.Vb(49,"div",15),c.Vb(50,"mat-form-field",11),c.Vb(51,"mat-label"),c.Dc(52,"Last Name"),c.Ub(),c.Qb(53,"input",19),c.Cc(54,q,2,0,"mat-icon",17),c.Cc(55,Q,2,0,"mat-icon",18),c.Cc(56,T,2,0,"mat-hint",13),c.Cc(57,A,2,0,"mat-error",13),c.Cc(58,E,2,0,"mat-error",13),c.Cc(59,L,2,0,"mat-error",13),c.Ub(),c.Ub(),c.Ub(),c.Vb(60,"section",20),c.Vb(61,"div",15),c.Vb(62,"mat-form-field",11),c.Vb(63,"mat-label"),c.Dc(64,"Avatar URL"),c.Ub(),c.Qb(65,"input",21),c.Vb(66,"span",22),c.Dc(67,"https://"),c.Ub(),c.Vb(68,"mat-icon",23),c.Dc(69,"done"),c.Ub(),c.Vb(70,"mat-hint"),c.Dc(71,"Avatar has to be URL link"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(72,"section",24),c.Vb(73,"div",15),c.Vb(74,"button",25),c.dc("click",(function(e){return t.updateProfile()})),c.Dc(75),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.nc("formGroup",t.profileFg),c.Cb(33),c.nc("ngIf",!t.profileFg.pristine),c.Cb(8),c.nc("errorStateMatcher",t.initErrorMatcher),c.Cb(1),c.nc("ngIf",!t.userMetaFg.get("firstName").errors),c.Cb(1),c.nc("ngIf",t.userMetaFg.get("firstName").errors),c.Cb(1),c.nc("ngIf",!t.userMetaFg.get("firstName").errors),c.Cb(1),c.nc("ngIf",null==t.userMetaFg.get("firstName").errors?null:t.userMetaFg.get("firstName").errors.spaceError),c.Cb(1),c.nc("ngIf",null==t.userMetaFg.get("firstName").errors?null:t.userMetaFg.get("firstName").errors.alphaError),c.Cb(1),c.nc("ngIf",null==t.userMetaFg.get("firstName").errors?null:t.userMetaFg.get("firstName").errors.required),c.Cb(6),c.nc("errorStateMatcher",t.initErrorMatcher),c.Cb(1),c.nc("ngIf",!t.userMetaFg.get("lastName").errors),c.Cb(1),c.nc("ngIf",t.userMetaFg.get("lastName").errors),c.Cb(1),c.nc("ngIf",!t.userMetaFg.get("lastName").errors),c.Cb(1),c.nc("ngIf",null==t.userMetaFg.get("lastName").errors?null:t.userMetaFg.get("lastName").errors.spaceError),c.Cb(1),c.nc("ngIf",null==t.userMetaFg.get("lastName").errors?null:t.userMetaFg.get("lastName").errors.alphaError),c.Cb(1),c.nc("ngIf",null==t.userMetaFg.get("firstName").errors?null:t.userMetaFg.get("firstName").errors.required),c.Cb(15),c.nc("ngClass",c.pc(19,X,!t.updating))("disabled",t.updating),c.Cb(1),c.Fc(" ",t.updating?"Updating":"Update"," profile"))},directives:[n.o,n.h,n.i,F.b,F.f,N.a,n.b,n.n,n.f,M.a,F.h,F.e,w.a,r.k,F.g,k.a,r.i,F.a],styles:[".mat-form-field[_ngcontent-%COMP%]{display:block!important}.center-grid[_ngcontent-%COMP%]{align-content:center;display:grid}.mat-form-field-prefix[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#999}",".profile-card[_ngcontent-%COMP%]{min-height:200px}.profile-card-body[_ngcontent-%COMP%]{min-height:120px}.btn-light[_ngcontent-%COMP%]{color:#4b76d3!important}"]}),K),z=a("mrSG"),B=a("oC0T"),Y=a.n(B),Z=((J=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=0;return e&&(t=+e),t}}]),e}()).\u0275fac=function(e){return new(e||J)},J.\u0275pipe=c.Ob({name:"recordPipe",type:J,pure:!0}),Object(z.a)([Y()()],J.prototype,"transform",null),J),ee=((R=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=new te("None","none.jpg");return e&&(t.name=e,t.url=t.url),t}}]),e}()).\u0275fac=function(e){return new(e||R)},R.\u0275pipe=c.Ob({name:"teamNamePipe",type:R,pure:!0}),Object(z.a)([Y()()],R.prototype,"transform",null),R),te=function e(t,a){_classCallCheck(this,e),this.name=t,this.url=a},ae=[{path:"",component:f,canActivate:[m.b],children:[{path:"",component:h},{path:"edit",component:W},{path:"seasons",component:($=function(){function e(t,a,r){_classCallCheck(this,e),this.ls=t,this.fb=a,this.ts=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.ls.currentUser$.pipe(Object(v.a)(this.ls.userSettingProfileDone$)).subscribe((function(t){e.createSeasonsFg(t),e.ts.toastrConfig.timeOut=750,e.ts.info("Seasons record loaded.","User"),e.ts.toastrConfig.timeOut=5e3}),(function(e){}),(function(){console.log("User listener in seasons edit DONE")}))}},{key:"createSeasonsFg",value:function(e){this.seasonFg=this.fb.group({admin:V.a(e.admin,!0),hashKey:V.a(e.hashKey,!0,[n.s.required]),isUser:V.a(e.isUser,!0),user:this.fb.group({id:V.a(e.user.id,!0,[n.s.required]),firstName:V.a(e.user.firstName,!1,[n.s.required,y.a]),lastName:V.a(e.user.lastName,!1,[n.s.required,y.a]),avatar:V.a(e.user.avatar,!1)}),data:this.fb.group({matchesPlayed:V.a(e.data.matchesPlayed,!0),seasonsPlayed:V.a(e.data.seasonsPlayed,!0),wins:V.a(e.data.wins,!0),draws:V.a(e.data.draws,!0),losses:V.a(e.data.losses,!0),mostUsedTeam:V.a(e.data.mostUsedTeam,!0),favoritePlayer:V.a(e.data.favoritePlayer,!0),totalGoalsScored:V.a(e.data.totalGoalsScored,!0),totalGoalsConceded:V.a(e.data.totalGoalsConceded,!0)})}),console.log(this.seasonFg)}},{key:"ngOnDestroy",value:function(){this.ls.userSettingProfileDone$.next(!0)}},{key:"userMetaFg",get:function(){return this.seasonFg.get("data")}}]),e}(),$.\u0275fac=function(e){return new(e||$)(c.Pb(b.a),c.Pb(n.d),c.Pb(D.b))},$.\u0275cmp=c.Jb({type:$,selectors:[["app-self-seasons"]],decls:42,vars:23,consts:[[3,"formGroup"],[1,"row"],[1,"col-md-8","offset-md-2"],["formGroupName","data"],[1,"row","mb-4"],[1,"row","mb-2"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"section",1),c.Vb(2,"div",2),c.Vb(3,"h4"),c.Dc(4,"Record (W-D-L)"),c.Ub(),c.Qb(5,"hr"),c.Ub(),c.Ub(),c.Vb(6,"div",3),c.Vb(7,"section",4),c.Vb(8,"div",2),c.Dc(9),c.ic(10,"recordPipe"),c.ic(11,"recordPipe"),c.ic(12,"recordPipe"),c.Ub(),c.Ub(),c.Vb(13,"section",1),c.Vb(14,"div",2),c.Vb(15,"h4"),c.Dc(16,"Favorite Team & Player"),c.Ub(),c.Qb(17,"hr"),c.Ub(),c.Ub(),c.Vb(18,"section",5),c.Vb(19,"div",2),c.Dc(20),c.ic(21,"teamNamePipe"),c.ic(22,"teamNamePipe"),c.Ub(),c.Ub(),c.Vb(23,"section",4),c.Vb(24,"div",2),c.Vb(25,"span"),c.Dc(26),c.Ub(),c.Ub(),c.Ub(),c.Vb(27,"section",1),c.Vb(28,"div",2),c.Vb(29,"h4"),c.Dc(30,"Stats"),c.Ub(),c.Qb(31,"hr"),c.Ub(),c.Ub(),c.Vb(32,"section",5),c.Vb(33,"div",2),c.Vb(34,"div"),c.Vb(35,"span"),c.Dc(36),c.ic(37,"recordPipe"),c.Ub(),c.Ub(),c.Vb(38,"div"),c.Vb(39,"span"),c.Dc(40),c.ic(41,"recordPipe"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.nc("formGroup",t.seasonFg),c.Cb(9),c.Hc(" ",c.jc(10,9,t.userMetaFg.get("wins").value)," - ",c.jc(11,11,t.userMetaFg.get("draws").value)," - ",c.jc(12,13,t.userMetaFg.get("losses").value)," "),c.Cb(11),c.Gc(" ",c.jc(21,15,t.userMetaFg.get("mostUsedTeam").value).name," ",c.jc(22,17,t.userMetaFg.get("mostUsedTeam").value).url," "),c.Cb(6),c.Fc("Favorite Player: ",t.userMetaFg.get("favoritePlayer").value,""),c.Cb(10),c.Fc("Total Goals Scored: ",c.jc(37,19,t.userMetaFg.get("totalGoalsScored").value)," "),c.Cb(4),c.Fc("Total Goals Conceded: ",c.jc(41,21,t.userMetaFg.get("totalGoalsConceded").value),""))},directives:[n.o,n.h,n.i],pipes:[Z,ee],styles:["",".profile-card[_ngcontent-%COMP%]{min-height:200px}.profile-card-body[_ngcontent-%COMP%]{min-height:120px}.btn-light[_ngcontent-%COMP%]{color:#4b76d3!important}"]}),$)}]}],re=((H=function e(){_classCallCheck(this,e)}).\u0275mod=c.Nb({type:H}),H.\u0275inj=c.Mb({factory:function(e){return new(e||H)},imports:[[i.e.forChild(ae)],i.e]}),H);a.d(t,"SelfModule",(function(){return oe}));var ne,oe=((ne=function e(){_classCallCheck(this,e)}).\u0275mod=c.Nb({type:ne}),ne.\u0275inj=c.Mb({factory:function(e){return new(e||ne)},providers:[],imports:[[r.c,n.j,n.r,o.a,s.a,re]]}),ne)}}]);